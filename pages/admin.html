<!DOCTYPE html>
<html>
<head>
  <title>User Dashboard</title>
</head>
<body>
  <h1>Welcome, <span id="username"></span></h1>

   <!-- DIV 1: Summary of all customers -->
    <div class="section">
        <h2>Customer Usage & Billing Summary</h2>
        <div id="summary">
    <h2>Energy Consumption</h2>
    <pre id="energyConsumption">Loading...</pre>
    <h2>Comparison</h2>
    <pre id="energyComparison">Loading...</pre>
    <h2>Invoice Summary</h2>
    <pre id="invoiceSummary">Loading...</pre>
    </div>
    </div>

  <!-- DIV 2: Selected customer account summary -->
   
 <!-- DIV 2: Selected customer account summary -->
<div class="section">
    <label for="userSelect">Select Customer:</label>
    <select id="userSelect">
      <option disabled selected>-- Choose a user --</option>
    </select>
    <button id="loadProfileBtn">Load Profile</button>
  
    <div id="customerProfile">
      <h2>Customer Profile</h2>
      <p><i>Select a user and click "Load Profile"</i></p>
    </div>
  </div>
  

 
  
  <!-- hidden field to hold account_id -->
  <!-- <input type="hidden" id="account_id" name="account_id" /> -->
  
    
  <h2>Update Billing for Customer</h2>
  <form id="billingForm" style="max-width: 500px; margin: 20px auto; padding: 20px; border: 1px solid #ccc; border-radius: 8px;">
    <input type="hidden" id="account_id" name="account_id" required />
  
    <div class="form-field">
      <label for="billing_month">Billing Month</label>
      <input type="month" id="billing_month" name="billing_month" required />
    </div>
  
    <div class="form-field">
      <label for="gas_consumption">Gas Usage (mÂ³)</label>
      <input type="number" id="gas_consumption" name="gas_consumption" step="0.01" required />
    </div>
  
    <div class="form-field">
      <label for="electricity_consumption">Electricity Usage (kWh)</label>
      <input type="number" id="electricity_consumption" name="electricity_consumption" step="0.01" required />
    </div>
  
    <div class="form-field">
      <label for="total_amount">Total Amount (USD)</label>
      <input type="number" id="total_amount" name="total_amount" step="0.01" readonly />
    </div>
  
    <div class="form-field">
      <label for="invoice_status">Invoice Status</label>
      <select id="invoice_status" name="invoice_status" required>
        <option value="Unpaid">Unpaid</option>
        <option value="Paid">Paid</option>
        <option value="Overdue">Overdue</option>
      </select>
    </div>
  
    <div class="form-field">
      <label for="due_date">Due Date</label>
      <input type="date" id="due_date" name="due_date" required />
    </div>
  
    <div class="form-field">
      <label for="payment_date">Payment Date (optional)</label>
      <input type="date" id="payment_date" name="payment_date" />
    </div>
  
    <button type="submit">Create Billing</button>
    <button type="button" id="saveBtn">Save</button>
    <div id="billing-entries-container"></div>

    <button type="button" id="deleteBtn" style="margin-top: 10px; background-color: red; color: white;">Delete Billing Entry</button>
  </form>
  
  <div id="billingMessage" style="text-align: center; margin-top: 10px;"></div>
  
  
    
  </div>
  <script src="/js/customer.js" defer></script>
  <script src="/js/billing.js" defer></script>
  <!-- <script src="/js/login.js"></script> -->
</body>
</html>
